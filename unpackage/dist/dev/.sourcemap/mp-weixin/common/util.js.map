{"version":3,"file":"util.js","sources":["common/util.js"],"sourcesContent":["function friendlyDate(timestamp) {\n\tvar formats = {\n\t\t'year': '%n% 年前',\n\t\t'month': '%n% 月前',\n\t\t'day': '%n% 天前',\n\t\t'hour': '%n% 小时前',\n\t\t'minute': '%n% 分钟前',\n\t\t'second': '%n% 秒前',\n\t};\n\n\tvar now = Date.now();\n\tvar seconds = Math.floor((now - timestamp) / 1000);\n\tvar minutes = Math.floor(seconds / 60);\n\tvar hours = Math.floor(minutes / 60);\n\tvar days = Math.floor(hours / 24);\n\tvar months = Math.floor(days / 30);\n\tvar years = Math.floor(months / 12);\n\n\tvar diffType = '';\n\tvar diffValue = 0;\n\tif (years > 0) {\n\t\tdiffType = 'year';\n\t\tdiffValue = years;\n\t} else {\n\t\tif (months > 0) {\n\t\t\tdiffType = 'month';\n\t\t\tdiffValue = months;\n\t\t} else {\n\t\t\tif (days > 0) {\n\t\t\t\tdiffType = 'day';\n\t\t\t\tdiffValue = days;\n\t\t\t} else {\n\t\t\t\tif (hours > 0) {\n\t\t\t\t\tdiffType = 'hour';\n\t\t\t\t\tdiffValue = hours;\n\t\t\t\t} else {\n\t\t\t\t\tif (minutes > 0) {\n\t\t\t\t\t\tdiffType = 'minute';\n\t\t\t\t\t\tdiffValue = minutes;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiffType = 'second';\n\t\t\t\t\t\tdiffValue = seconds === 0 ? (seconds = 1) : seconds;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn formats[diffType].replace('%n%', diffValue);\n}\nexport {\n\tfriendlyDate\n}\n"],"names":[],"mappings":";AAAA,SAAS,aAAa,WAAW;AAChC,MAAI,UAAU;AAAA,IACb,QAAQ;AAAA,IACR,SAAS;AAAA,IACT,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,UAAU;AAAA,IACV,UAAU;AAAA,EACZ;AAEC,MAAI,MAAM,KAAK;AACf,MAAI,UAAU,KAAK,OAAO,MAAM,aAAa,GAAI;AACjD,MAAI,UAAU,KAAK,MAAM,UAAU,EAAE;AACrC,MAAI,QAAQ,KAAK,MAAM,UAAU,EAAE;AACnC,MAAI,OAAO,KAAK,MAAM,QAAQ,EAAE;AAChC,MAAI,SAAS,KAAK,MAAM,OAAO,EAAE;AACjC,MAAI,QAAQ,KAAK,MAAM,SAAS,EAAE;AAElC,MAAI,WAAW;AACf,MAAI,YAAY;AAChB,MAAI,QAAQ,GAAG;AACd,eAAW;AACX,gBAAY;AAAA,EACd,OAAQ;AACN,QAAI,SAAS,GAAG;AACf,iBAAW;AACX,kBAAY;AAAA,IACf,OAAS;AACN,UAAI,OAAO,GAAG;AACb,mBAAW;AACX,oBAAY;AAAA,MAChB,OAAU;AACN,YAAI,QAAQ,GAAG;AACd,qBAAW;AACX,sBAAY;AAAA,QACjB,OAAW;AACN,cAAI,UAAU,GAAG;AAChB,uBAAW;AACX,wBAAY;AAAA,UAClB,OAAY;AACN,uBAAW;AACX,wBAAY,YAAY,IAAK,UAAU,IAAK;AAAA,UAC5C;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AACD,SAAO,QAAQ,QAAQ,EAAE,QAAQ,OAAO,SAAS;AAClD;;"}