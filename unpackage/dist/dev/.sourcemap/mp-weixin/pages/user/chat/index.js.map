{"version":3,"file":"index.js","sources":["pages/user/chat/index.vue","D:/ÊØîËµõËΩØ‰ª∂/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9jaGF0L2luZGV4LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"chat-container\">\n\t\t<!-- Â∑¶‰æßËæπÊ†è -->\n\t\t<view class=\"sidebar\">\n\t\t\t<!-- LogoÂíåÊ†áÈ¢ò -->\n\t\t\t<view class=\"sidebar-header\">\n\t\t\t\t<view class=\"logo\">\n\t\t\t\t\t<view class=\"logo-circle\">O</view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"sidebar-title\">‰π°ÊùëÁî®ÁîµÂä©Êâã</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Êñ∞Âª∫ÂØπËØùÊåâÈíÆ -->\n\t\t\t<view class=\"new-chat-btn\" @click=\"createNewChat\">\n\t\t\t\t<text class=\"new-chat-icon\">+</text>\n\t\t\t\t<text class=\"new-chat-text\">Êñ∞Âª∫ÂØπËØù</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- ÂéÜÂè≤ËÆ∞ÂΩï -->\n\t\t\t<view class=\"history-section\">\n\t\t\t\t<text class=\"history-title\">ÂéÜÂè≤ËÆ∞ÂΩï</text>\n\t\t\t\t<scroll-view class=\"history-list\" scroll-y>\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(item, idx) in historyList\" \n\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t:class=\"['history-item-wrapper', { active: currentChatId === item.id }]\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\tclass=\"history-item\"\n\t\t\t\t\t\t\t@click=\"selectChat(item.id)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ item.title }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\tclass=\"delete-btn\" \n\t\t\t\t\t\t\t@click.stop=\"deleteChat(item.id, idx)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<text class=\"delete-icon\">√ó</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</scroll-view>\n\t\t\t\t<text class=\"history-tip\">‰ªÖÊòæÁ§∫ÊúÄËøë20Êù°ÂØπËØù</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- Âè≥‰æß‰∏ªÂÜÖÂÆπÂå∫ -->\n\t\t<view class=\"main-content\">\n\t\t\t<!-- È°∂ÈÉ®Ê†áÈ¢òÊ†è -->\n\t\t\t<view class=\"content-header\">\n\t\t\t\t<view class=\"header-left\">\n\t\t\t\t\t<view class=\"back-home-btn\" @click=\"goHome\">\n\t\t\t\t\t\t<view class=\"back-icon-wrapper\">\n\t\t\t\t\t\t\t<text class=\"back-icon\">‚Äπ</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"back-text\">È¶ñÈ°µ</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"title-wrapper\">\n\t\t\t\t\t\t<text class=\"content-title\">{{ currentChatTitle }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"header-actions\">\n\t\t\t\t\t<text class=\"action-text\">{{ messageCount }}Êù°ÊèêÈóÆ</text>\n\t\t\t\t\t<view class=\"action-icon-wrapper\" @click=\"copyContent\">\n\t\t\t\t\t\t<text class=\"action-icon\">üìã</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- ËÅäÂ§©ÂÜÖÂÆπÂå∫ -->\n\t\t\t<scroll-view \n\t\t\t\tclass=\"chat-content\" \n\t\t\t\tscroll-y \n\t\t\t\t:scroll-top=\"scrollTop\"\n\t\t\t\tscroll-with-animation\n\t\t\t>\n\t\t\t\t<!-- Ê¨¢ËøéÂç°Áâá -->\n\t\t\t\t<view v-if=\"messages.length === 0\" class=\"welcome-card\">\n\t\t\t\t\t<view class=\"welcome-title\">\n\t\t\t\t\t\t<text class=\"title-text\">‰π°ÊùëÁî®ÁîµÂä©Êâã</text>\n\t\t\t\t\t\t<view class=\"title-underline\"></view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"welcome-desc\">Êèê‰æõ‰π°ÊùëÁî®ÁîµÂÆâÂÖ®Áü•ËØÜ„ÄÅÂ∫îÊÄ•Â§ÑÁêÜÂíåÈ¢ÑÈò≤ÊåáÂØºÔºå‰øùÈöúÁî®ÁîµÂÆâÂÖ®„ÄÇ</text>\n\t\t\t\t\t\n\t\t\t\t\t<!-- ÂäüËÉΩÊåâÈíÆ -->\n\t\t\t\t\t<view class=\"function-buttons\">\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t:class=\"['func-btn', { active: activeFunc === 'knowledge' }]\"\n\t\t\t\t\t\t\t@click=\"setActiveFunc('knowledge')\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tÂÆâÂÖ®Áü•ËØÜ\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t:class=\"['func-btn', { active: activeFunc === 'emergency' }]\"\n\t\t\t\t\t\t\t@click=\"setActiveFunc('emergency')\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tÂ∫îÊÄ•Â§ÑÁêÜ\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t:class=\"['func-btn', { active: activeFunc === 'prevention' }]\"\n\t\t\t\t\t\t\t@click=\"setActiveFunc('prevention')\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tÈ¢ÑÈò≤ÊåáÂØº\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- Âª∫ËÆÆÈóÆÈ¢ò -->\n\t\t\t\t\t<view class=\"suggested-questions\">\n\t\t\t\t\t\t<view \n\t\t\t\t\t\t\tv-for=\"(q, idx) in suggestedQuestions\" \n\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\tclass=\"question-chip\"\n\t\t\t\t\t\t\t@click=\"selectQuestion(q)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ q }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- ËÅäÂ§©Ê∂àÊÅØÂàóË°® -->\n\t\t\t\t<view v-if=\"messages.length > 0\" class=\"messages-list\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"(msg, idx) in messages\" \n\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t:class=\"['message-item', msg.role]\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<view :class=\"['message-bubble', msg.role]\">\n\t\t\t\t\t\t\t<text class=\"message-text\">{{ getMessageText(msg) }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- ÊâìÂ≠ó‰∏≠Âä®Áîª -->\n\t\t\t\t\t<view v-if=\"typing\" class=\"message-item ai\">\n\t\t\t\t\t\t<view class=\"message-bubble ai typing\">\n\t\t\t\t\t\t\t<view class=\"typing-dots\">\n\t\t\t\t\t\t\t\t<view class=\"dot\"></view>\n\t\t\t\t\t\t\t\t<view class=\"dot\"></view>\n\t\t\t\t\t\t\t\t<view class=\"dot\"></view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t\t\n\t\t\t<!-- ËæìÂÖ•Ê°Ü -->\n\t\t\t<view class=\"input-container\">\n\t\t\t\t<input \n\t\t\t\t\tclass=\"chat-input\" \n\t\t\t\t\tv-model=\"inputText\" \n\t\t\t\t\tplaceholder=\"ËØ∑ËæìÂÖ•ÈóÆÈ¢ò\" \n\t\t\t\t\tconfirm-type=\"send\"\n\t\t\t\t\t@confirm=\"handleSend\"\n\t\t\t\t/>\n\t\t\t\t<view class=\"send-btn\" @click=\"handleSend\">\n\t\t\t\t\t<text class=\"send-icon\">‚úà</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nexport default {\n\tname: 'ChatPage',\n\tdata() {\n\t\treturn {\n\t\t\tcurrentChatId: 'chat-' + Date.now(),\n\t\t\tcurrentChatTitle: 'Êñ∞Âª∫ÂØπËØù',\n\t\t\tmessageCount: 0,\n\t\t\tactiveFunc: 'knowledge',\n\t\t\tinputText: '',\n\t\t\ttyping: false,\n\t\t\tscrollTop: 0,\n\t\t\ttypingTimer: null,\n\t\t\thistoryList: [],\n\t\t\tsuggestedQuestions: [\n\t\t\t\t'Â¶Ç‰ΩïÊ£ÄÊü•‰π°ÊùëÁî®ÁîµÂÆâÂÖ®ÈöêÊÇ£?',\n\t\t\t\t'Â¶Ç‰ΩïÊ≠£Á°Æ‰ΩøÁî®ÊºèÁîµ‰øùÊä§Âô®?',\n\t\t\t\t'ÁîµÊ∞îÂÆâÂÖ®Â¶Ç‰ΩïÈ¢ÑÈò≤?'\n\t\t\t],\n\t\t\tmessages: [],\n\t\t\tfaqList: [\n\t\t\t\t{ \n\t\t\t\t\tq: 'Â¶Ç‰ΩïÊ£ÄÊü•‰π°ÊùëÁî®ÁîµÂÆâÂÖ®ÈöêÊÇ£?', \n\t\t\t\t\tkeywords: ['Ê£ÄÊü•', 'ÂÆâÂÖ®ÈöêÊÇ£', 'ÂÆâÂÖ®', 'ÈöêÊÇ£', 'ÊéíÊü•'],\n\t\t\t\t\ta: 'Ê£ÄÊü•‰π°ÊùëÁî®ÁîµÂÆâÂÖ®ÈöêÊÇ£ÈúÄË¶Å‰ªé‰ª•‰∏ãÂá†‰∏™ÊñπÈù¢ÂÖ•ÊâãÔºö\\n1) Ê£ÄÊü•ÈÖçÁîµÁÆ±ÔºöÊòØÂê¶ÊúâÂºÇÂë≥„ÄÅÂèëÁÉ≠Áé∞Ë±°ÔºåÁ©∫Ê∞îÂºÄÂÖ≥„ÄÅÊºèÁîµ‰øùÊä§Âô®Âä®‰ΩúÊòØÂê¶ÁÅµÊïèÔºõ\\n2) Ê£ÄÊü•Á∫øË∑ØÔºöÊòØÂê¶ÊúâÁßÅÊãâ‰π±Êé•„ÄÅÁ∫øÁöÆÁ†¥Êçü„ÄÅÊé•Â§¥Ë£∏Èú≤Á≠âÊÉÖÂÜµÔºõ\\n3) Ê£ÄÊü•ÊèíÂ∫ßÔºöÊòØÂê¶ÊùæÂä®„ÄÅÂèëÁÉ≠„ÄÅÂèòËâ≤„ÄÅÊúâÂºÇÂë≥Ôºõ\\n4) Ê£ÄÊü•ËÆæÂ§áÔºöÂ§ßÂäüÁéáÁîµÂô®ÊòØÂê¶Áã¨Á´ãÂõûË∑ØÔºåÁ∫øÂæÑÊòØÂê¶ÂåπÈÖçÔºõ\\n5) Ê£ÄÊü•ÁéØÂ¢ÉÔºöÁîµÁ∫øÊòØÂê¶Ë¢´Âéã„ÄÅË¢´Á¢æÂéãÔºåÊòØÂê¶Èù†ËøëÊ∞¥Ê∫êÁ≠â„ÄÇÂèëÁé∞ÂºÇÂ∏∏Â∫îÁ´ãÂç≥Êñ≠ÁîµÂπ∂ËÅîÁ≥ª‰∏ì‰∏öÁîµÂ∑•Â§ÑÁêÜ„ÄÇ' \n\t\t\t\t},\n\t\t\t\t{ \n\t\t\t\t\tq: 'Â¶Ç‰ΩïÊ≠£Á°Æ‰ΩøÁî®ÊºèÁîµ‰øùÊä§Âô®?', \n\t\t\t\t\tkeywords: ['ÊºèÁîµ‰øùÊä§Âô®', 'Êºè‰øù', 'ÊºèÁîµ', '‰øùÊä§Âô®'],\n\t\t\t\t\ta: 'Ê≠£Á°Æ‰ΩøÁî®ÊºèÁîµ‰øùÊä§Âô®ÁöÑÊñπÊ≥ïÔºö\\n1) ÊØèÊúàÊåâ‰∏ãËØïÈ™åÊåâÈíÆÔºåÁ°Æ‰øùËÉΩÊ≠£Â∏∏Ë∑≥Èó∏Ôºõ\\n2) Á°ÆËÆ§ÊºèÁîµ‰øùÊä§Âô®Âä®‰ΩúÁîµÊµÅÁ¨¶ÂêàË¶ÅÊ±ÇÔºà‰∏ÄËà¨30mAÔºâÔºõ\\n3) Â¶ÇÊûúÈ¢ëÁπÅË∑≥Èó∏ÔºåÂÖàÈÄê‰∏™Êñ≠ÂºÄËÆæÂ§áÊéíÊü•ÊºèÁîµÁÇπÔºõ\\n4) ‰∏çËÉΩÈöèÊÑèÂ¢ûÂ§ßÂä®‰ΩúÁîµÊµÅÊàñÊãÜÈô§ÊºèÁîµ‰øùÊä§Âô®Ôºõ\\n5) ÂÆöÊúüÊ£ÄÊü•ÊºèÁîµ‰øùÊä§Âô®Â§ñËßÇÔºåÁ°Æ‰øùÊó†ÊçüÂùè„ÄÅÊó†ÂèòÂΩ¢Ôºõ\\n6) ÈÖçÂêàÊé•Âú∞Á≥ªÁªü‰ΩøÁî®ÔºåÁ°Æ‰øùÊé•Âú∞ËâØÂ•Ω„ÄÇÂ¶ÇÈÅáÂºÇÂ∏∏ÔºåÂ∫îËØ∑‰∏ì‰∏öÁîµÂ∑•Ê£ÄÊü•„ÄÇ' \n\t\t\t\t},\n\t\t\t\t{ \n\t\t\t\t\tq: 'ÁîµÊ∞îÂÆâÂÖ®Â¶Ç‰ΩïÈ¢ÑÈò≤?', \n\t\t\t\t\tkeywords: ['È¢ÑÈò≤', 'ÂÆâÂÖ®', 'ÁîµÊ∞îÂÆâÂÖ®', 'Â¶Ç‰ΩïÈ¢ÑÈò≤'],\n\t\t\t\t\ta: 'È¢ÑÈò≤ÁîµÊ∞î‰∫ãÊïÖÁöÑÊé™ÊñΩÂåÖÊã¨Ôºö\\n1) ÂÆöÊúüÊ£ÄÊü•ÔºöÊØèÂ≠£Â∫¶Ê£ÄÊü•ÊºèÁîµ‰øùÊä§Âô®ÔºåÂçäÂπ¥Â∑°Ê£Ä‰∏ÄÊ¨°Á∫øË∑ØÂ§ñËßÇÔºõ\\n2) ÂêàÁêÜÁî®ÁîµÔºö‰∏çË∂ÖË¥üËç∑Áî®ÁîµÔºåÂ§ßÂäüÁéáÁîµÂô®Áã¨Á´ãÂõûË∑ØÔºõ\\n3) ‰ΩøÁî®ÂêàÊ†º‰∫ßÂìÅÔºöÈÄâÊã©Á¨¶ÂêàÂõΩÂÆ∂Ê†áÂáÜÁöÑÁîµÂô®ËÆæÂ§áÂíåÊùêÊñôÔºõ\\n4) ËßÑËåÉÂÆâË£ÖÔºöÁî±ÊåÅËØÅÁîµÂ∑•ËøõË°åÂÆâË£ÖÂíåÊîπÈÄ†Ôºõ\\n5) Âä†Âº∫ÊïôËÇ≤ÔºöÊèêÈ´òÂÆâÂÖ®Áî®ÁîµÊÑèËØÜÔºåÊéåÊè°Âü∫Êú¨ÂÆâÂÖ®Áü•ËØÜÔºõ\\n6) ÂèäÊó∂Áª¥Êä§ÔºöÂèëÁé∞ËÄÅÂåñ„ÄÅÊçüÂùèÁöÑËÆæÂ§áÂèäÊó∂Êõ¥Êç¢Ôºõ\\n7) Âª∫Á´ãÂà∂Â∫¶ÔºöÂª∫Á´ãÁî®ÁîµÂÆâÂÖ®ÁÆ°ÁêÜÂà∂Â∫¶ÔºåÂÆöÊúüÊéíÊü•ÈöêÊÇ£„ÄÇ' \n\t\t\t\t},\n\t\t\t\t{ \n\t\t\t\t\tq: 'È¢ëÁπÅË∑≥Èó∏ÊÄé‰πàÂäûÔºü', \n\t\t\t\t\tkeywords: ['Ë∑≥Èó∏', 'È¢ëÁπÅË∑≥Èó∏', 'Ë∑≥‰∫Ü'],\n\t\t\t\t\ta: 'È¢ëÁπÅË∑≥Èó∏ÁöÑÂ§ÑÁêÜÊñπÊ≥ïÔºö\\n1) ÂÖàÊ£ÄÊü•ÊòØÂê¶ÊúâÂ§ßÂäüÁéáËÆæÂ§áÂêåÊó∂ËøêË°åÂØºËá¥ËøáËΩΩÔºõ\\n2) Â§ç‰ΩçÁ©∫ÂºÄ/Êºè‰øùÂêéËßÇÂØüÔºåÁúãÊòØÂê¶ÁªßÁª≠Ë∑≥Èó∏Ôºõ\\n3) Ëã•‰ªçË∑≥Èó∏ÔºåÈÄê‰∏™Êñ≠ÂºÄËÆæÂ§áÊéíÊü•ÔºåÊâæÂá∫ÈóÆÈ¢òËÆæÂ§áÔºõ\\n4) Ê£ÄÊü•Á∫øË∑ØÊòØÂê¶ÊúâÁü≠Ë∑Ø„ÄÅÊºèÁîµÊÉÖÂÜµÔºõ\\n5) Ê£ÄÊü•Á©∫ÂºÄÂÆπÈáèÊòØÂê¶ÂåπÈÖçÁî®ÁîµË¥üËç∑Ôºõ\\n6) Â¶ÇÊûúËá™Â∑±Êó†Ê≥ïÊéíÊü•ÔºåÂª∫ËÆÆÂáèÂ∞ëË¥üËΩΩÊàñËØ∑‰∏ì‰∏öÂ∏àÂÇÖÊéíÊü•Á∫øË∑ØÊºèÁîµ/Áü≠Ë∑ØÈóÆÈ¢ò„ÄÇ' \n\t\t\t\t},\n\t\t\t\t{ \n\t\t\t\t\tq: 'ÊèíÂ∫ßÂèëÁÉ≠/ÊúâÁÑ¶Âë≥ÊÄé‰πàÂäûÔºü', \n\t\t\t\t\tkeywords: ['ÊèíÂ∫ß', 'ÂèëÁÉ≠', 'ÁÑ¶Âë≥', 'ÁÉ´', 'ÂÜíÁÉü'],\n\t\t\t\t\ta: 'ÊèíÂ∫ßÂèëÁÉ≠ÊàñÊúâÁÑ¶Âë≥ÁöÑÁ¥ßÊÄ•Â§ÑÁêÜÔºö\\n1) Á´ãÂç≥Êñ≠ÁîµÂÅúÊ≠¢‰ΩøÁî®ËØ•ÊèíÂ∫ßÔºõ\\n2) Ê£ÄÊü•ÊòØÂê¶Êé•Ëß¶‰∏çËâØÊàñËøáËΩΩÂØºËá¥ÁöÑÔºõ\\n3) ÁªùÂØπ‰∏çË¶ÅÁªßÁª≠‰ΩøÁî®ËØ•ÊèíÂ∫ßÔºåÈÅøÂÖçÂºïÂèëÁÅ´ÁÅæÔºõ\\n4) Â∞ΩÂø´ËÅîÁ≥ª‰∏ì‰∏öÁîµÂ∑•Ê£ÄÊü•Á∫øË∑ØÂíåÊõ¥Êç¢ÊèíÂ∫ßÔºõ\\n5) Ê£ÄÊü•ËøûÊé•ÁöÑÁîµÂô®ËÆæÂ§áÊòØÂê¶Ê≠£Â∏∏Ôºõ\\n6) Â¶ÇÊûúÊòØËøáËΩΩÂØºËá¥ÁöÑÔºåÂáèÂ∞ëËØ•ÂõûË∑ØÁöÑÁî®ÁîµË¥üËç∑„ÄÇ' \n\t\t\t\t},\n\t\t\t\t{ \n\t\t\t\t\tq: 'ÊºèÁîµ‰øùÊä§Âô®ËÄÅÊòØË∑≥Ôºü', \n\t\t\t\t\tkeywords: ['ÊºèÁîµ‰øùÊä§Âô®', 'Êºè‰øù', 'ËÄÅÊòØË∑≥', '‰∏ÄÁõ¥Ë∑≥'],\n\t\t\t\t\ta: 'ÊºèÁîµ‰øùÊä§Âô®È¢ëÁπÅË∑≥Èó∏ÁöÑÊéíÊü•Ôºö\\n1) ÂèØËÉΩÂ≠òÂú®ÊºèÁîµÈöêÊÇ£ÊàñËÆæÂ§áËÄÅÂåñÈóÆÈ¢òÔºõ\\n2) ÂÖàÈÄê‰∏™Êñ≠ÂºÄËÆæÂ§áÊéíÊü•ÔºåÊâæÂá∫ÂØºËá¥Ë∑≥Èó∏ÁöÑËÆæÂ§áÔºõ\\n3) Ê£ÄÊü•Á∫øË∑ØÁªùÁºòÊòØÂê¶ËâØÂ•ΩÔºåÊòØÂê¶ÊúâÁ†¥ÊçüÔºõ\\n4) Ê£ÄÊü•Êé•Âú∞ÊòØÂê¶ËâØÂ•ΩÔºõ\\n5) Ëã•Ëá™Â∑±Êó†Ê≥ïÊéíÊü•ÔºåÂª∫ËÆÆËØ∑‰∏ì‰∏öÂ∏àÂÇÖÂÅöÁªùÁºò/ÊºèÁîµÊ£ÄÊµãÔºõ\\n6) ‰∏çË¶ÅÈöèÊÑèÂ¢ûÂ§ßÂä®‰ΩúÁîµÊµÅÊàñÊãÜÈô§ÊºèÁîµ‰øùÊä§Âô®„ÄÇ' \n\t\t\t\t},\n\t\t\t\t{ \n\t\t\t\t\tq: 'Êñ∞Ë£ÖÁîµÂô®ÈúÄË¶ÅÂçïÁã¨ÂõûË∑ØÂêóÔºü', \n\t\t\t\t\tkeywords: ['Êñ∞Ë£Ö', 'ÂçïÁã¨ÂõûË∑Ø', 'ÂõûË∑Ø', 'ÂÆâË£Ö'],\n\t\t\t\t\ta: 'Êñ∞Ë£ÖÁîµÂô®ÁöÑÂõûË∑ØË¶ÅÊ±ÇÔºö\\n1) Â§ßÂäüÁéáÁîµÂô®ÔºàÁ©∫Ë∞É„ÄÅÁÉ≠Ê∞¥Âô®„ÄÅÁÉ§ÁÆ±„ÄÅÁîµÁ£ÅÁÇâÁ≠âÔºâÂª∫ËÆÆÂçïÁã¨ÂõûË∑ØÔºõ\\n2) ÊØè‰∏™Áã¨Á´ãÂõûË∑ØÈúÄË¶ÅÈÖçÂ§áÁã¨Á´ãÁöÑÁ©∫Ê∞îÂºÄÂÖ≥Ôºõ\\n3) Á∫øÂæÑÂíåÂºÄÂÖ≥ÂÆπÈáèÈúÄÂåπÈÖçËÆæÂ§áÂäüÁéáÔºà‰æãÂ¶ÇÔºö1.5kWÁî®2.5Âπ≥ÊñπÁ∫øÔºå3kWÁî®4Âπ≥ÊñπÁ∫øÔºâÔºõ\\n4) ÈÅøÂÖçÂ§ö‰∏™Â§ßÂäüÁéáÁîµÂô®ÂÖ±Áî®‰∏Ä‰∏™ÂõûË∑ØÔºõ\\n5) ÂÆâË£ÖÂâçÂ∫îËØ∑‰∏ì‰∏öÁîµÂ∑•ËØÑ‰º∞Áî®ÁîµË¥üËç∑ÔºåÂêàÁêÜËßÑÂàíÁîµË∑Ø„ÄÇ' \n\t\t\t\t}\n\t\t\t]\n\t\t};\n\t},\n\tonLoad() {\n\t\t// Âä†ËΩΩÂéÜÂè≤ËÆ∞ÂΩï\n\t\tthis.loadHistory();\n\t},\n\tmethods: {\n\t\tcreateNewChat() {\n\t\t\tconst newId = 'chat-' + Date.now();\n\t\t\tconst newTitle = 'Êñ∞Âª∫ÂØπËØù';\n\t\t\tthis.currentChatId = newId;\n\t\t\tthis.currentChatTitle = newTitle;\n\t\t\tthis.messages = [];\n\t\t\tthis.messageCount = 0;\n\t\t\tthis.inputText = '';\n\t\t\t\n\t\t\t// Ê∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï\n\t\t\tthis.historyList.unshift({ id: newId, title: newTitle });\n\t\t\tif (this.historyList.length > 20) {\n\t\t\t\tthis.historyList = this.historyList.slice(0, 20);\n\t\t\t}\n\t\t\tthis.saveHistory();\n\t\t},\n\t\tselectChat(chatId) {\n\t\t\tthis.currentChatId = chatId;\n\t\t\tconst chat = this.historyList.find(item => item.id === chatId);\n\t\t\tif (chat) {\n\t\t\t\tthis.currentChatTitle = chat.title;\n\t\t\t\t// ËøôÈáåÂ∫îËØ•Âä†ËΩΩÂØπÂ∫îÁöÑËÅäÂ§©ËÆ∞ÂΩï\n\t\t\t\t// ÊöÇÊó∂Ê∏ÖÁ©∫Ê∂àÊÅØÔºåÁ≠âÂæÖÂÆûÈôÖÂä†ËΩΩÂéÜÂè≤Ê∂àÊÅØÁöÑÈÄªËæë\n\t\t\t\tthis.messages = [];\n\t\t\t\tthis.messageCount = 0;\n\t\t\t}\n\t\t},\n\t\tsetActiveFunc(func) {\n\t\t\tthis.activeFunc = func;\n\t\t},\n\t\tselectQuestion(question) {\n\t\t\tthis.inputText = question;\n\t\t\tthis.handleSend();\n\t\t},\n\t\thandleSend() {\n\t\t\tconst text = (this.inputText || '').trim();\n\t\t\tif (!text) return;\n\t\t\t\n\t\t\t// Ê∑ªÂä†Áî®Êà∑Ê∂àÊÅØ\n\t\t\tthis.messages.push({ role: 'user', text, displayText: text });\n\t\t\tthis.messageCount++;\n\t\t\tthis.inputText = '';\n\t\t\t\n\t\t\t// Êõ¥Êñ∞ÂØπËØùÊ†áÈ¢òÔºàÂ¶ÇÊûúÊòØÁ¨¨‰∏ÄÊù°Ê∂àÊÅØÔºâ\n\t\t\tif (this.messages.length === 1) {\n\t\t\t\tthis.currentChatTitle = text.length > 20 ? text.substring(0, 20) + '...' : text;\n\t\t\t\tlet chat = this.historyList.find(item => item.id === this.currentChatId);\n\t\t\t\tif (chat) {\n\t\t\t\t\tchat.title = this.currentChatTitle;\n\t\t\t\t} else {\n\t\t\t\t\t// Â¶ÇÊûúÂΩìÂâçËÅäÂ§©‰∏çÂú®ÂéÜÂè≤ËÆ∞ÂΩï‰∏≠ÔºåÊ∑ªÂä†Âà∞ÂéÜÂè≤ËÆ∞ÂΩï\n\t\t\t\t\tchat = { id: this.currentChatId, title: this.currentChatTitle };\n\t\t\t\t\tthis.historyList.unshift(chat);\n\t\t\t\t\tif (this.historyList.length > 20) {\n\t\t\t\t\t\tthis.historyList = this.historyList.slice(0, 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.saveHistory();\n\t\t\t}\n\t\t\t\n\t\t\t// ÊòæÁ§∫ÊâìÂ≠óÂä®Áîª\n\t\t\tthis.typing = true;\n\t\t\tthis.scrollToBottom();\n\t\t\t\n\t\t\t// ‰øùÂ≠òthisÂºïÁî®\n\t\t\tconst self = this;\n\t\t\t\n\t\t\t// Ê®°ÊãüAIÂõûÂ§ç\n\t\t\tsetTimeout(() => {\n\t\t\t\tself.typing = false;\n\t\t\t\tconst reply = self.makeAiReply(text);\n\t\t\t\tif (!reply) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// Ê∑ªÂä†Ê∂àÊÅØÔºåÂàùÂßãdisplayText‰∏∫Á©∫Ôºå‰ºöÂõûÈÄÄÊòæÁ§∫text\n\t\t\t\tconst aiMessage = { role: 'ai', text: reply, displayText: '' };\n\t\t\t\tself.messages.push(aiMessage);\n\t\t\t\tconst messageIndex = self.messages.length - 1; // ‰øùÂ≠òÊ∂àÊÅØÁ¥¢Âºï\n\t\t\t\tself.scrollToBottom();\n\t\t\t\t\n\t\t\t\t// ÂºÄÂßãÊâìÂ≠óÊú∫ÊïàÊûúÔºå‰º†ÂÖ•Ê∂àÊÅØÁ¥¢Âºï\n\t\t\t\tself.startTypingEffect(messageIndex, reply);\n\t\t\t}, 900 + Math.random() * 600);\n\t\t},\n\t\tmakeAiReply(text) {\n\t\t\tconst normalizedText = text.trim().toLowerCase();\n\t\t\t\n\t\t\t// È¶ñÂÖàËøõË°åFAQÁ≤æÁ°ÆÂåπÈÖçÔºà‰ºòÂÖàÂåπÈÖçÔºâ\n\t\t\t// 1. ÂÆåÊï¥ÈóÆÈ¢òÂåπÈÖç\n\t\t\tconst exactMatch = this.faqList.find(item => {\n\t\t\t\tconst normalizedQ = item.q.trim().toLowerCase().replace(/[Ôºü?]/g, '');\n\t\t\t\treturn normalizedText === normalizedQ || normalizedText.includes(normalizedQ) || normalizedQ.includes(normalizedText);\n\t\t\t});\n\t\t\tif (exactMatch) return exactMatch.a;\n\t\t\t\n\t\t\t// 2. ÂÖ≥ÈîÆËØçÂåπÈÖç\n\t\t\tconst keywordMatch = this.faqList.find(item => {\n\t\t\t\tif (item.keywords && item.keywords.length > 0) {\n\t\t\t\t\t// Ê£ÄÊü•ÊòØÂê¶ÂåÖÂê´ÂÖ≥ÈîÆËØç\n\t\t\t\t\treturn item.keywords.some(keyword => normalizedText.includes(keyword.toLowerCase()));\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t});\n\t\t\tif (keywordMatch) return keywordMatch.a;\n\t\t\t\n\t\t\t// 3. ÈÉ®ÂàÜÂÖ≥ÈîÆËØçÂåπÈÖçÔºà‰ªéÈóÆÈ¢ò‰∏≠ÊèêÂèñÂÖ≥ÈîÆËØçÔºâ\n\t\t\tconst partialMatch = this.faqList.find(item => {\n\t\t\t\tconst questionWords = item.q.replace(/[Ôºü?]/g, '').split(/[\\sÔºå,„ÄÅ]/).filter(w => w.length > 1);\n\t\t\t\treturn questionWords.some(word => normalizedText.includes(word.toLowerCase()));\n\t\t\t});\n\t\t\tif (partialMatch) return partialMatch.a;\n\t\t\t\n\t\t\t// Â¶ÇÊûúÂåπÈÖçÂà∞ÁâπÂÆöÈóÆÈ¢òÔºå‰ΩÜÊ≤°ÊâæÂà∞FAQÔºå‰ΩøÁî®ÈÄöÁî®ÁîµÂäõËá™Êü•ÊñπÊ°à\n\t\t\tconst electricKeywords = ['Áîµ', 'Áî®Áîµ', 'ÁîµÂäõ', 'Á∫øË∑Ø', 'ÊºèÁîµ', 'Ë∑≥Èó∏', 'ÈÖçÁîµ', 'ÊèíÂ∫ß', 'ÁîµÂô®', 'ÂÆâÂÖ®', 'ÈöêÊÇ£', 'Ê£ÄÊü•'];\n\t\t\tconst hasElectricKeyword = electricKeywords.some(k => normalizedText.includes(k));\n\t\t\tif (hasElectricKeyword) {\n\t\t\t\treturn [\n\t\t\t\t\t'ÁîµÂäõËá™Êü•ÊñπÊ°àÔºö',\n\t\t\t\t\t'1) Á∫øË∑Ø‰∏éÁîµÁÆ±ÔºöÊ£ÄÊü•ÈÖçÁîµÁÆ±ÊòØÂê¶ÊúâÂºÇÂë≥/ÂèëÁÉ≠ÔºåÁ©∫Ê∞îÂºÄÂÖ≥„ÄÅÊºè‰øùÂä®‰ΩúÊòØÂê¶ÁÅµÊïèÔºõÁ°ÆËÆ§ÂêÑÂõûË∑ØË¥üËç∑ÂàÜÈÖçÔºåÈÅøÂÖçÂ§ßÂäüÁéáÈõÜ‰∏≠Âú®Âêå‰∏ÄÂõûË∑ØÔºõËßÇÂØüÊòØÂê¶ÊúâÁßÅÊãâ‰π±Êé•„ÄÅÁ∫øÁöÆÁ†¥Êçü„ÄÅÊé•Â§¥Ë£∏Èú≤ÔºåÂèëÁé∞Á´ãÂç≥ÂÅúÁî®Âπ∂ÈáçÊñ∞ÂéãÊé•ÊàñÊõ¥Êç¢„ÄÇ',\n\t\t\t\t\t'2) Êé•Âú∞‰∏éÊºè‰øùÔºöÁ°ÆËÆ§‰∏ªÊé•Âú∞ËâØÂ•ΩÔºàÊé•Âú∞Á∫ø„ÄÅÊé•Âú∞ÊéíÊó†ÊùæÂä®„ÄÅÊó†ÈîàËöÄÔºâÔºåÂç´ÁîüÈó¥/Âé®Êàø/Êà∑Â§ñÊèíÂ∫ßÂøÖÈ°ªÊé•Âú∞ÔºõÊåâ‰∏ãÊºèÁîµ‰øùÊä§Âô®ËØïÈ™åÈîÆÔºåËÉΩÊ≠£Â∏∏Ë∑≥Èó∏ÔºõËã•È¢ëÁπÅË∑≥Èó∏ÔºåÈÄê‰∏™Êñ≠ÂºÄËÆæÂ§áÊéíÊü•ÊºèÁîµÁÇπ„ÄÇ',\n\t\t\t\t\t'3) ÊèíÂ∫ß‰∏éË¥üËΩΩÔºöÊ£ÄÊü•ÊèíÂ∫ßÊòØÂê¶ÊùæÂä®„ÄÅÂèëÁÉ≠„ÄÅÂèòËâ≤„ÄÅÂºÇÂë≥ÔºõÈÅøÂÖç‰∏Ä‰∏™ÊèíÂ∫ßÊãñÂ§ö‰∏™Â§ßÂäüÁéáÔºàÁîµÁ£ÅÁÇâ/ÁÉ≠Ê∞¥Âô®/Á©∫Ë∞É/ÁîµÈ•≠ÁÖ≤Á≠âÔºâÂπ∂Ë°åÔºõÊà∑Â§ñÂíåÊΩÆÊπøÂú∫ÊôØ‰ΩøÁî®Èò≤Ê∫Ö/Èò≤Ê∞¥ÊèíÂ∫ßÔºåÂÆöÊúüÁ¥ßÂõ∫Á´ØÂ≠êËû∫‰∏ù„ÄÇ',\n\t\t\t\t\t'4) ËÆæÂ§á‰∏éÁéØÂ¢ÉÔºöÂ§ßÂäüÁéáÁîµÂô®Âª∫ËÆÆÁã¨Á´ãÂõûË∑ØÂπ∂ÂåπÈÖçÁ∫øÂæÑ/Á©∫ÂºÄÔºõËÄÅÊóßÊàñÊçüÂùèÁöÑÊèíÊéí„ÄÅÊèíÂ§¥ÂèäÊó∂Êõ¥Êç¢ÔºõÁîµÁ∫ø‰∏çÂèØÂéãÂú®Èó®Áºù„ÄÅÁ™óÁºùÊàñË¢´ÈáçÁâ©Á¢æÂéãÔºåÈÅøÂÖçË¢´ÂÆ†Áâ©ÂïÉÂí¨ÔºõÈõ®Â§©Ê≥®ÊÑèÊà∑Â§ñ‰∏¥Êó∂Á∫øË∑ØÈò≤Ê∞¥„ÄÅÈò≤Ëß¶Áîµ„ÄÇ',\n\t\t\t\t\t'5) Êó•Â∏∏Ê£ÄÊµãÔºöÊØèÂ≠£Â∫¶ÂéãÊµãÊºèÁîµ‰øùÊä§Âô®ÔºõÂçäÂπ¥Â∑°Ê£Ä‰∏ÄÊ¨°Á∫øË∑ØÂ§ñËßÇ‰∏éÊé•Â§¥ÔºõÂá∫Áé∞ÁÑ¶Âë≥/ÂºÇÂìç/ÂèëÁÉ≠/ÁÅ´Ëä±Á´ãÂàªÊñ≠ÁîµÔºåÂÖàÊéíÊü•ÂÜçÈÄÅÁîµÔºõÁ°ÆÊúâÈöêÊÇ£Êó∂ÔºåËÅîÁ≥ªÊåÅËØÅÁîµÂ∑•Áé∞Âú∫Â§ÑÁêÜÔºåÈÅøÂÖçËá™Ë°åÂ∏¶ÁîµÊìç‰Ωú„ÄÇ',\n\t\t\t\t\t'ËØ∑ÁªìÂêàÁé∞Âú∫ÂÆûÈôÖÊâßË°åÔºåÂ¶ÇÊúâÂºÇÂ∏∏Âä°ÂøÖÂÖàÊñ≠ÁîµÔºåÂÜçËÅîÁ≥ª‰∏ì‰∏ö‰∫∫Â£´„ÄÇ'\n\t\t\t\t].join('\\n');\n\t\t\t}\n\t\t\t\n\t\t\t// Ê†πÊçÆÂäüËÉΩÁ±ªÂûãËøîÂõû‰∏çÂêåÂõûÂ§çÔºàÂÖúÂ∫ïÊñπÊ°àÔºâ\n\t\t\tconst replies = {\n\t\t\t\tknowledge: [\n\t\t\t\t\t'‰π°ÊùëÁî®ÁîµÂÆâÂÖ®Áü•ËØÜÂåÖÊã¨ÔºöÂÆöÊúüÊ£ÄÊü•ÁîµÁ∫øÊòØÂê¶ËÄÅÂåñ„ÄÅÁ†¥ÊçüÔºõÁ°Æ‰øùÁîµÁÆ±Êé•Âú∞ËâØÂ•ΩÔºõ‰ΩøÁî®Á¨¶ÂêàÂõΩÂÆ∂Ê†áÂáÜÁöÑÁîµÂô®ËÆæÂ§áÔºõÈÅøÂÖçÁßÅÊãâ‰π±Êé•ÁîµÁ∫øÔºõÂÆöÊúüÊ£ÄÊü•ÊºèÁîµ‰øùÊä§Âô®ÊòØÂê¶Ê≠£Â∏∏Â∑•‰Ωú„ÄÇ',\n\t\t\t\t\t'ÂÆâÂÖ®Áî®ÁîµÁöÑÂü∫Êú¨ÂéüÂàôÔºö‰∏çË∂ÖË¥üËç∑Áî®ÁîµÔºõ‰∏ç‰ΩøÁî®Á†¥ÊçüÁöÑÊèíÂ§¥„ÄÅÊèíÂ∫ßÔºõ‰∏çÂú®‰∏Ä‰∏™ÊèíÂ∫ß‰∏äËøûÊé•ËøáÂ§öÁîµÂô®ÔºõÂÆöÊúüÊ£ÄÊü•Á∫øË∑ØÂíåÁîµÂô®ËÆæÂ§áÔºõÂèëÁé∞ÂºÇÂ∏∏ÂèäÊó∂Êñ≠ÁîµÂπ∂ËÅîÁ≥ª‰∏ì‰∏ö‰∫∫Âëò„ÄÇ'\n\t\t\t\t],\n\t\t\t\temergency: [\n\t\t\t\t\t'ÈÅáÂà∞Áî®ÁîµÁ¥ßÊÄ•ÊÉÖÂÜµÊó∂Ôºö1.Á´ãÂç≥ÂàáÊñ≠ÁîµÊ∫êÔºõ2.‰ΩøÁî®Âπ≤Êú®Ê£íÁ≠âÁªùÁºòÁâ©Â∞ÜÁîµÁ∫øÁßªÂºÄÔºõ3.‰∏çË¶ÅÁõ¥Êé•Áî®ÊâãÊé•Ëß¶Ëß¶ÁîµËÄÖÔºõ4.ÂèäÊó∂Êã®ÊâìÊÄ•ÊïëÁîµËØùÔºõ5.Âú®‰∏ì‰∏ö‰∫∫ÂëòÂà∞ËææÂâçÔºå‰øùÊåÅÁé∞Âú∫ÂÆâÂÖ®„ÄÇ',\n\t\t\t\t\t'ÁîµÊ∞îÁÅ´ÁÅæÂ∫îÊÄ•Â§ÑÁêÜÔºö1.Á´ãÂç≥ÂàáÊñ≠ÁîµÊ∫êÔºåÊãâ‰∏ãÊÄªÂºÄÂÖ≥Ôºõ2.‰ΩøÁî®ÁªùÁºòÂ∑•ÂÖ∑ÈöîÁ¶ªÁîµÊ∫êÔºåÂàáÂãøÁî®Ê∞¥ÊâëÊïëÔºõ3.‰ΩøÁî®‰∏çÂØºÁîµÁöÑÁÅ≠ÁÅ´ÊùêÊñôÔºàÂ¶ÇÂπ≤Ê≤ô„ÄÅÂπ≤Á≤âÁ≠âÔºâÔºõ4.ÂèäÊó∂Êä•Ë≠¶Âπ∂ËØ¥ÊòéÊòØÁîµÊ∞îÁÅ´ÁÅæÔºõ5.Á°Æ‰øù‰∫∫ÂëòÂÆâÂÖ®Êí§Á¶ªÂà∞ÂÆâÂÖ®Âå∫Âüü„ÄÇ'\n\t\t\t\t],\n\t\t\t\tprevention: [\n\t\t\t\t\t'È¢ÑÈò≤Áî®Áîµ‰∫ãÊïÖÁöÑÊé™ÊñΩÔºöÂÆöÊúüÊ£ÄÊü•Á∫øË∑ØÂíåËÆæÂ§áÔºõÂÆâË£ÖÊºèÁîµ‰øùÊä§Âô®ÔºõÂêàÁêÜÂàÜÈÖçÁî®ÁîµË¥üËç∑Ôºõ‰ΩøÁî®ÂêàÊ†ºÁîµÂô®‰∫ßÂìÅÔºõÂä†Âº∫ÂÆâÂÖ®Áî®ÁîµÊïôËÇ≤ÔºõÂª∫Á´ãÁî®ÁîµÂÆâÂÖ®ÁÆ°ÁêÜÂà∂Â∫¶„ÄÇ',\n\t\t\t\t\t'È¢ÑÈò≤ÁîµÊ∞î‰∫ãÊïÖÁöÑÂÖ≥ÈîÆÔºöÈÄâÊã©ÂêàÈÄÇËßÑÊ†ºÁöÑÁîµÁ∫øÂíåÂºÄÂÖ≥ÔºõÊ≠£Á°ÆÂÆâË£ÖÂíå‰ΩøÁî®ÁîµÂô®ÔºõÂÆöÊúüÁª¥Êä§ÂíåÊ£ÄÊü•ÔºõÂèäÊó∂Êõ¥Êç¢ËÄÅÂåñËÆæÂ§áÔºõÊèêÈ´òÂÆâÂÖ®ÊÑèËØÜÂíåÊìç‰ΩúÊäÄËÉΩ„ÄÇ'\n\t\t\t\t]\n\t\t\t};\n\t\t\t\n\t\t\tconst funcReplies = replies[this.activeFunc] || replies.knowledge;\n\t\t\treturn funcReplies[Math.floor(Math.random() * funcReplies.length)];\n\t\t},\n\t\tgetMessageText(msg) {\n\t\t\t// Áî®Êà∑Ê∂àÊÅØÁõ¥Êé•ÊòæÁ§∫text\n\t\t\tif (msg.role === 'user') {\n\t\t\t\treturn msg.text || '';\n\t\t\t}\n\t\t\t// AIÊ∂àÊÅØÔºöÂ¶ÇÊûúÊúâdisplayText‰∏î‰∏ç‰∏∫Á©∫ÔºåÊòæÁ§∫displayTextÔºåÂê¶ÂàôÊòæÁ§∫text\n\t\t\tif (msg.role === 'ai') {\n\t\t\t\treturn (msg.displayText && msg.displayText.length > 0) ? msg.displayText : (msg.text || '');\n\t\t\t}\n\t\t\treturn msg.text || '';\n\t\t},\n\t\tcopyContent() {\n\t\t\tuni.setClipboardData({\n\t\t\t\tdata: this.messages.map(msg => `${msg.role === 'user' ? 'Êàë' : 'AI'}: ${msg.text}`).join('\\n'),\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'Â∑≤Â§çÂà∂',\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tscrollToBottom() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.scrollTop = 99999;\n\t\t\t});\n\t\t},\n\t\tloadHistory() {\n\t\t\tconst saved = uni.getStorageSync('chat-history');\n\t\t\tif (saved && Array.isArray(saved)) {\n\t\t\t\tthis.historyList = saved;\n\t\t\t}\n\t\t},\n\t\tsaveHistory() {\n\t\t\tuni.setStorageSync('chat-history', this.historyList);\n\t\t},\n\t\tgoHome() {\n\t\t\tuni.switchTab({\n\t\t\t\turl: '/pages/index/index'\n\t\t\t});\n\t\t},\n\t\tstartTypingEffect(messageIndex, fullText) {\n\t\t\tlet charIndex = 0;\n\t\t\tconst speed = 50; // ÊØè‰∏™Â≠óÁ¨¶ÁöÑÊòæÁ§∫Èó¥ÈöîÔºàÊØ´ÁßíÔºâ\n\t\t\tconst self = this;\n\t\t\t\n\t\t\t// Ê∏ÖÈô§‰πãÂâçÁöÑÂÆöÊó∂Âô®\n\t\t\tif (self.typingTimer) {\n\t\t\t\tclearInterval(self.typingTimer);\n\t\t\t}\n\t\t\t\n\t\t\t// Á°Æ‰øùÊ∂àÊÅØÂ≠òÂú®\n\t\t\tif (!self.messages[messageIndex]) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\t// ÂàùÂßãÂåñÊòæÁ§∫ÊñáÊú¨‰∏∫Á©∫\n\t\t\tself.$set(self.messages[messageIndex], 'displayText', '');\n\t\t\t\n\t\t\t// ‰ΩøÁî® nextTick Á°Æ‰øùËßÜÂõæÊõ¥Êñ∞ÂêéÂÜçÂºÄÂßãÊâìÂ≠ó\n\t\t\tself.$nextTick(() => {\n\t\t\t\tself.typingTimer = setInterval(() => {\n\t\t\t\t\tif (charIndex < fullText.length) {\n\t\t\t\t\t\t// ÈÄêÂ≠óÊòæÁ§∫\n\t\t\t\t\t\tconst displayText = fullText.substring(0, charIndex + 1);\n\t\t\t\t\t\t// ‰ΩøÁî® $set Á°Æ‰øùÂìçÂ∫îÂºèÊõ¥Êñ∞\n\t\t\t\t\t\tself.$set(self.messages[messageIndex], 'displayText', displayText);\n\t\t\t\t\t\tcharIndex++;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ÊØèÊòæÁ§∫‰∏Ä‰∫õÂ≠óÁ¨¶Â∞±ÊªöÂä®Âà∞Â∫ïÈÉ®\n\t\t\t\t\t\tif (charIndex % 5 === 0) {\n\t\t\t\t\t\t\tself.$nextTick(() => {\n\t\t\t\t\t\t\t\tself.scrollToBottom();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ÂÆåÊàêÊâìÂ≠ó\n\t\t\t\t\t\tclearInterval(self.typingTimer);\n\t\t\t\t\t\tself.typingTimer = null;\n\t\t\t\t\t\t// Á°Æ‰øùÊúÄÁªàÊòæÁ§∫ÂÆåÊï¥ÊñáÊú¨\n\t\t\t\t\t\tself.$set(self.messages[messageIndex], 'displayText', fullText);\n\t\t\t\t\t\tself.$nextTick(() => {\n\t\t\t\t\t\t\tself.scrollToBottom();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}, speed);\n\t\t\t});\n\t\t},\n\t\tdeleteChat(chatId, index) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'Á°ÆËÆ§Âà†Èô§',\n\t\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÂà†Èô§ËøôÊù°ÂØπËØùËÆ∞ÂΩïÂêóÔºü',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t// Â¶ÇÊûúÂà†Èô§ÁöÑÊòØÂΩìÂâçÂØπËØùÔºåÈúÄË¶ÅÂàáÊç¢Âà∞ÂÖ∂‰ªñÂØπËØù\n\t\t\t\t\t\tif (this.currentChatId === chatId) {\n\t\t\t\t\t\t\t// Â¶ÇÊûúËøòÊúâÂÖ∂‰ªñÂØπËØùÔºåÂàáÊç¢Âà∞Á¨¨‰∏Ä‰∏™\n\t\t\t\t\t\t\tif (this.historyList.length > 1) {\n\t\t\t\t\t\t\t\tconst remainingList = this.historyList.filter(item => item.id !== chatId);\n\t\t\t\t\t\t\t\tif (remainingList.length > 0) {\n\t\t\t\t\t\t\t\t\tthis.selectChat(remainingList[0].id);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// Â¶ÇÊûúÊ≤°ÊúâÂÖ∂‰ªñÂØπËØù‰∫ÜÔºåÂàõÂª∫Êñ∞ÂØπËØù\n\t\t\t\t\t\t\t\t\tthis.createNewChat();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Â¶ÇÊûúÂè™Ââ©‰∏ÄÊù°ÔºåÂàõÂª∫Êñ∞ÂØπËØù\n\t\t\t\t\t\t\t\tthis.createNewChat();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ‰ªéÂéÜÂè≤ËÆ∞ÂΩï‰∏≠Âà†Èô§\n\t\t\t\t\t\tthis.historyList = this.historyList.filter(item => item.id !== chatId);\n\t\t\t\t\t\tthis.saveHistory();\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'Â∑≤Âà†Èô§',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.chat-container {\n\tdisplay: flex;\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground: #f5f5f5;\n}\n\n/* Â∑¶‰æßËæπÊ†è */\n.sidebar {\n\twidth: 260rpx;\n\tbackground: #ffffff;\n\tborder-right: 1rpx solid #e5e5e5;\n\tdisplay: flex;\n\tflex-direction: column;\n\theight: 100vh;\n}\n\n.sidebar-header {\n\tpadding: 32rpx 20rpx 24rpx;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tborder-bottom: 1rpx solid #f0f0f0;\n}\n\n.logo {\n\tmargin-bottom: 16rpx;\n}\n\n.logo-circle {\n\twidth: 48rpx;\n\theight: 48rpx;\n\tborder-radius: 8rpx;\n\tbackground: #ffffff;\n\tborder: 2rpx solid #333333;\n\tcolor: #333333;\n\tfont-size: 36rpx;\n\tfont-weight: 300;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tposition: relative;\n\tfont-family: Arial, sans-serif;\n\tline-height: 1;\n}\n\n.logo-circle::after {\n\tcontent: '';\n\tposition: absolute;\n\twidth: 10rpx;\n\theight: 10rpx;\n\tbackground: #333333;\n\tborder-radius: 2rpx;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n}\n\n.sidebar-title {\n\tfont-size: 26rpx;\n\tfont-weight: 600;\n\tcolor: #333333;\n\ttext-align: center;\n\tmargin-top: 12rpx;\n}\n\n.new-chat-btn {\n\tmargin: 20rpx 16rpx;\n\tpadding: 18rpx;\n\tbackground: #ff6b9d;\n\tborder-radius: 8rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tgap: 8rpx;\n}\n\n.new-chat-icon {\n\tfont-size: 28rpx;\n\tcolor: #ffffff;\n\tfont-weight: bold;\n\tline-height: 1;\n}\n\n.new-chat-text {\n\tfont-size: 26rpx;\n\tcolor: #ffffff;\n\tfont-weight: 500;\n}\n\n.history-section {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0 20rpx;\n}\n\n.history-title {\n\tfont-size: 24rpx;\n\tcolor: #666666;\n\tmargin-bottom: 16rpx;\n\tfont-weight: 600;\n}\n\n.history-list {\n\tflex: 1;\n}\n\n.history-item-wrapper {\n\tposition: relative;\n\tmargin-bottom: 6rpx;\n\tdisplay: flex;\n\talign-items: center;\n}\n\n.history-item-wrapper.active .history-item {\n\tbackground: #ff6b9d;\n\tcolor: #ffffff;\n}\n\n.history-item {\n\tflex: 1;\n\tpadding: 18rpx 16rpx;\n\tborder-radius: 8rpx;\n\tfont-size: 24rpx;\n\tcolor: #333333;\n\tbackground: #f8f8f8;\n\ttransition: all 0.3s;\n\tline-height: 1.4;\n}\n\n.delete-btn {\n\twidth: 48rpx;\n\theight: 48rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tmargin-left: 8rpx;\n\tborder-radius: 50%;\n\tbackground: rgba(255, 107, 157, 0.1);\n\ttransition: all 0.3s;\n\topacity: 0.6;\n}\n\n.delete-btn:active {\n\tbackground: rgba(255, 107, 157, 0.2);\n\topacity: 1;\n\ttransform: scale(0.95);\n}\n\n.delete-icon {\n\tfont-size: 32rpx;\n\tcolor: #ff6b9d;\n\tfont-weight: bold;\n\tline-height: 1;\n}\n\n.history-item-wrapper.active .delete-btn {\n\tbackground: rgba(255, 255, 255, 0.2);\n}\n\n.history-item-wrapper.active .delete-icon {\n\tcolor: #ffffff;\n}\n\n.history-tip {\n\tfont-size: 20rpx;\n\tcolor: #999999;\n\tmargin-top: 16rpx;\n\tpadding-bottom: 20rpx;\n}\n\n/* Âè≥‰æß‰∏ªÂÜÖÂÆπÂå∫ */\n.main-content {\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tbackground: #ffffff;\n}\n\n.content-header {\n\tpadding: 24rpx 32rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: space-between;\n\tborder-bottom: 1rpx solid #f0f0f0;\n\tbackground: #ffffff;\n\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.02);\n}\n\n.header-left {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 16rpx;\n\tflex: 1;\n\tmin-width: 0;\n}\n\n.back-home-btn {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 6rpx;\n\tpadding: 10rpx 18rpx;\n\tborder-radius: 20rpx;\n\tbackground: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n\tborder: 1rpx solid #e5e7eb;\n\ttransition: all 0.3s ease;\n\tflex-shrink: 0;\n\tbox-shadow: 0 2rpx 4rpx rgba(0, 0, 0, 0.04);\n}\n\n.back-home-btn:active {\n\tbackground: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%);\n\ttransform: scale(0.96);\n\tbox-shadow: 0 1rpx 2rpx rgba(0, 0, 0, 0.06);\n}\n\n.back-icon-wrapper {\n\twidth: 32rpx;\n\theight: 32rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground: #ffffff;\n\tborder-radius: 50%;\n\tbox-shadow: 0 1rpx 3rpx rgba(0, 0, 0, 0.1);\n}\n\n.back-icon {\n\tfont-size: 32rpx;\n\tcolor: #2563eb;\n\tfont-weight: bold;\n\tline-height: 1;\n\tmargin-top: -2rpx;\n}\n\n.back-text {\n\tfont-size: 28rpx;\n\tcolor: #374151;\n\tfont-weight: 500;\n\tletter-spacing: 0.5rpx;\n}\n\n.title-wrapper {\n\tflex: 1;\n\tmin-width: 0;\n\toverflow: hidden;\n}\n\n.content-title {\n\tfont-size: 32rpx;\n\tfont-weight: 600;\n\tcolor: #111827;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tletter-spacing: -0.3rpx;\n}\n\n.header-actions {\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 20rpx;\n\tflex-shrink: 0;\n}\n\n.action-text {\n\tfont-size: 24rpx;\n\tcolor: #6b7280;\n\tbackground: #f3f4f6;\n\tpadding: 6rpx 12rpx;\n\tborder-radius: 12rpx;\n}\n\n.action-icon-wrapper {\n\twidth: 44rpx;\n\theight: 44rpx;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-radius: 50%;\n\tbackground: #f3f4f6;\n\ttransition: all 0.2s ease;\n}\n\n.action-icon-wrapper:active {\n\tbackground: #e5e7eb;\n\ttransform: scale(0.95);\n}\n\n.action-icon {\n\tfont-size: 28rpx;\n\tcolor: #6b7280;\n}\n\n.chat-content {\n\tflex: 1;\n\tpadding: 40rpx;\n\toverflow-y: auto;\n}\n\n/* Ê¨¢ËøéÂç°Áâá */\n.welcome-card {\n\tbackground: #ffffff;\n\tborder-radius: 24rpx;\n\tpadding: 48rpx 40rpx;\n\tbox-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);\n\tmargin-bottom: 40rpx;\n}\n\n.welcome-title {\n\tmargin-bottom: 24rpx;\n}\n\n.title-text {\n\tfont-size: 36rpx;\n\tfont-weight: 700;\n\tcolor: #333333;\n\tdisplay: block;\n\tmargin-bottom: 8rpx;\n}\n\n.title-underline {\n\twidth: 120rpx;\n\theight: 4rpx;\n\tbackground: #ffd700;\n\tborder-radius: 2rpx;\n\tmargin-top: 8rpx;\n}\n\n.welcome-desc {\n\tfont-size: 28rpx;\n\tcolor: #666666;\n\tline-height: 44rpx;\n\tmargin-bottom: 32rpx;\n\tdisplay: block;\n}\n\n.function-buttons {\n\tdisplay: flex;\n\tgap: 16rpx;\n\tmargin-bottom: 32rpx;\n}\n\n.func-btn {\n\tpadding: 16rpx 32rpx;\n\tborder-radius: 8rpx;\n\tfont-size: 26rpx;\n\tcolor: #666666;\n\tbackground: #f5f5f5;\n\ttransition: all 0.3s;\n}\n\n.func-btn.active {\n\tbackground: #4a90e2;\n\tcolor: #ffffff;\n}\n\n.suggested-questions {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 16rpx;\n}\n\n.question-chip {\n\tpadding: 20rpx 32rpx;\n\tbackground: #f8f8f8;\n\tborder-radius: 12rpx;\n\tfont-size: 26rpx;\n\tcolor: #333333;\n\tborder: 1rpx solid #e5e5e5;\n\ttransition: all 0.3s;\n}\n\n.question-chip:active {\n\tbackground: #eeeeee;\n\ttransform: scale(0.98);\n}\n\n/* Ê∂àÊÅØÂàóË°® */\n.messages-list {\n\tdisplay: flex;\n\tflex-direction: column;\n\tgap: 24rpx;\n}\n\n.message-item {\n\tdisplay: flex;\n\twidth: 100%;\n}\n\n.message-item.user {\n\tjustify-content: flex-end;\n}\n\n.message-item.ai {\n\tjustify-content: flex-start;\n}\n\n.message-bubble {\n\tmax-width: 70%;\n\tpadding: 24rpx 32rpx;\n\tborder-radius: 16rpx;\n\tword-wrap: break-word;\n}\n\n.message-bubble.user {\n\tbackground: #ff6b9d;\n\tborder-radius: 16rpx 16rpx 4rpx 16rpx;\n}\n\n.message-bubble.ai {\n\tbackground: #f5f5f5;\n\tborder-radius: 16rpx 16rpx 16rpx 4rpx;\n}\n\n.message-text {\n\tfont-size: 28rpx;\n\tline-height: 44rpx;\n\tcolor: #333333;\n}\n\n.message-bubble.user .message-text {\n\tcolor: #ffffff;\n}\n\n.typing-dots {\n\tdisplay: flex;\n\tgap: 12rpx;\n\tpadding: 8rpx 0;\n}\n\n.dot {\n\twidth: 12rpx;\n\theight: 12rpx;\n\tborder-radius: 50%;\n\tbackground: #999999;\n\tanimation: blink 1.2s infinite ease-in-out;\n}\n\n.dot:nth-child(2) {\n\tanimation-delay: 0.2s;\n}\n\n.dot:nth-child(3) {\n\tanimation-delay: 0.4s;\n}\n\n@keyframes blink {\n\t0%, 80%, 100% {\n\t\topacity: 0.3;\n\t\ttransform: scale(0.8);\n\t}\n\t40% {\n\t\topacity: 1;\n\t\ttransform: scale(1);\n\t}\n}\n\n/* ËæìÂÖ•Ê°Ü */\n.input-container {\n\tpadding: 24rpx 40rpx;\n\tborder-top: 1rpx solid #f0f0f0;\n\tdisplay: flex;\n\talign-items: center;\n\tgap: 16rpx;\n\tbackground: #ffffff;\n}\n\n.chat-input {\n\tflex: 1;\n\theight: 80rpx;\n\tpadding: 0 24rpx;\n\tbackground: #f5f5f5;\n\tborder-radius: 40rpx;\n\tfont-size: 28rpx;\n\tcolor: #333333;\n}\n\n.send-btn {\n\twidth: 80rpx;\n\theight: 80rpx;\n\tborder-radius: 50%;\n\tbackground: #ff6b9d;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.send-icon {\n\tfont-size: 36rpx;\n\tcolor: #ffffff;\n}\n</style>\n\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/xydianan/xydianan/pages/user/chat/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}