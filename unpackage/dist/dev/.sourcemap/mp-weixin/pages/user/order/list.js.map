{"version":3,"file":"list.js","sources":["pages/user/order/list.vue","D:/比赛软件/HBuilderX.4.87.2025121004/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9vcmRlci9saXN0LnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"container\" :class=\"{ 'large-font': largeFontMode }\">\n\t\t<view class=\"tab-bar\">\n\t\t\t<view \n\t\t\t\tclass=\"tab-item\" \n\t\t\t\tv-for=\"tab in tabs\" \n\t\t\t\t:key=\"tab.value\"\n\t\t\t\t:class=\"{ 'active': currentTab === tab.value }\"\n\t\t\t\t@click=\"switchTab(tab.value)\"\n\t\t\t>\n\t\t\t\t<text>{{ tab.label }}</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"order-list\">\n\t\t\t<view \n\t\t\t\tclass=\"order-item\" \n\t\t\t\tv-for=\"order in orderList\" \n\t\t\t\t:key=\"order.id\"\n\t\t\t\t@click=\"viewOrderDetail(order)\"\n\t\t\t>\n\t\t\t\t<view class=\"order-header\">\n\t\t\t\t\t<text class=\"order-id\">订单号：{{ order.order_no }}</text>\n\t\t\t\t\t<view class=\"status-badge\" :class=\"'status-' + order.status\">\n\t\t\t\t\t\t{{ getStatusText(order.status) }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"order-info\">\n\t\t\t\t\t<text class=\"demand-title\">{{ order.demand_title }}</text>\n\t\t\t\t\t<text class=\"master-name\">师傅：{{ order.master_name }}</text>\n\t\t\t\t\t<text class=\"order-price\">金额：¥{{ order.total_price }}</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"order-footer\">\n\t\t\t\t\t<text class=\"order-time\">{{ formatTime(order.created_at) }}</text>\n\t\t\t\t\t<view class=\"order-actions\">\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-small\" \n\t\t\t\t\t\t\tv-if=\"order.status === 1\"\n\t\t\t\t\t\t\t@click.stop=\"cancelOrder(order)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t取消订单\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-small btn-primary\" \n\t\t\t\t\t\t\tv-if=\"order.status === 3\"\n\t\t\t\t\t\t\t@click.stop=\"confirmOrder(order)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t确认验收\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button \n\t\t\t\t\t\t\tclass=\"btn btn-small\" \n\t\t\t\t\t\t\t@click.stop=\"viewOrderDetail(order)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t查看详情\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<view class=\"load-more\" v-if=\"hasMore\">\n\t\t\t<text v-if=\"loading\">加载中...</text>\n\t\t\t<text v-else @click=\"loadMore\">加载更多</text>\n\t\t</view>\n\t\t\n\t\t<view class=\"no-more\" v-if=\"!hasMore && orderList.length > 0\">\n\t\t\t<text>没有更多了</text>\n\t\t</view>\n\t\t\n\t\t<view class=\"empty\" v-if=\"!loading && orderList.length === 0\">\n\t\t\t<text>暂无订单</text>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\nimport request from '@/utils/request.js';\nimport userStore from '@/store/user.js';\nimport offline from '@/utils/offline.js';\n\nexport default {\n\t\tdata() {\n\t\treturn {\n\t\t\ttabs: [\n\t\t\t\t{ value: 'all', label: '全部' },\n\t\t\t\t{ value: 'pending', label: '进行中' },\n\t\t\t\t{ value: 'completed', label: '已完成' },\n\t\t\t\t{ value: 'cancelled', label: '已取消' }\n\t\t\t],\n\t\t\tcurrentTab: 'all',\n\t\t\torderList: [],\n\t\t\tpage: 1,\n\t\t\tpageSize: 10,\n\t\t\thasMore: true,\n\t\t\tloading: false,\n\t\t\tlargeFontMode: false,\n\t\t\tisInitialized: false // 标记是否已初始化\n\t\t};\n\t},\n\tonLoad() {\n\t\tthis.largeFontMode = userStore.state.largeFontMode;\n\t\t\n\t\t// 检查登录状态，如果未登录则静默处理\n\t\tif (!userStore.state.isLoggedIn) {\n\t\t\t// 不显示弹窗，直接显示空列表\n\t\t\tthis.orderList = [];\n\t\t\tthis.isInitialized = true;\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tthis.loadOrders();\n\t\t\n\t\t// 监听需求创建事件，自动刷新订单列表\n\t\tuni.$on('demandCreated', () => {\n\t\t\tconsole.log('收到需求创建事件，刷新订单列表');\n\t\t\tif (!this.loading) {\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.orderList = [];\n\t\t\t\tthis.hasMore = true;\n\t\t\t\tthis.loadOrders();\n\t\t\t}\n\t\t});\n\t},\n\tonShow() {\n\t\t// tabBar 页面切换时，只有在未初始化或登录状态变化时才重新加载\n\t\tif (!this.isInitialized) {\n\t\t\tif (userStore.state.isLoggedIn && !this.loading) {\n\t\t\t\tthis.loadOrders();\n\t\t\t}\n\t\t}\n\t},\n\tonUnload() {\n\t\t// 页面卸载时移除事件监听\n\t\tuni.$off('demandCreated');\n\t\tthis.isInitialized = false;\n\t},\n\tonPullDownRefresh() {\n\t\tif (this.loading) {\n\t\t\tuni.stopPullDownRefresh();\n\t\t\treturn;\n\t\t}\n\t\tthis.page = 1;\n\t\tthis.orderList = [];\n\t\tthis.hasMore = true;\n\t\tthis.loadOrders().finally(() => {\n\t\t\tuni.stopPullDownRefresh();\n\t\t});\n\t},\n\tmethods: {\n\t\t/**\n\t\t * 切换标签\n\t\t */\n\t\tswitchTab(tab) {\n\t\t\t// 防止重复点击相同标签\n\t\t\tif (this.currentTab === tab || this.loading) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.currentTab = tab;\n\t\t\tthis.page = 1;\n\t\t\tthis.orderList = [];\n\t\t\tthis.hasMore = true;\n\t\t\tthis.loadOrders();\n\t\t},\n\t\t\n\t\t/**\n\t\t * 加载订单列表\n\t\t */\n\t\tasync loadOrders() {\n\t\t\tif (this.loading) {\n\t\t\t\tconsole.log('订单列表正在加载中，跳过重复请求');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t\tthis.loading = true;\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst params = {\n\t\t\t\t\trole: 'user',\n\t\t\t\t\tpage: this.page,\n\t\t\t\t\tpage_size: this.pageSize\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\t// 根据标签筛选\n\t\t\t\tif (this.currentTab !== 'all') {\n\t\t\t\t\tconst statusMap = {\n\t\t\t\t\t\t'pending': [1, 2, 3], // 进行中：待支付、已支付、施工中\n\t\t\t\t\t\t'completed': [4], // 已完成\n\t\t\t\t\t\t'cancelled': [5] // 已取消\n\t\t\t\t\t};\n\t\t\t\t\tparams.status = statusMap[this.currentTab];\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst result = await request.get('/api/order/list', params);\n\t\t\t\t\n\t\t\t\tif (result.list && result.list.length > 0) {\n\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\tthis.orderList = result.list;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.orderList = this.orderList.concat(result.list);\n\t\t\t\t\t}\n\t\t\t\t\tthis.hasMore = result.list.length >= this.pageSize;\n\t\t\t\t} else {\n\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\tthis.orderList = [];\n\t\t\t\t\t}\n\t\t\t\t\tthis.hasMore = false;\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\t// API失败时，使用模拟数据（仅用于开发测试）\n\t\t\t\t// 静默处理，减少日志输出（只在首次失败时输出一次）\n\t\t\t\tif (this.page === 1 && this.currentTab === 'all') {\n\t\t\t\t\tconsole.log('API不可用，使用模拟订单数据');\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 生成模拟订单数据\n\t\t\t\tconst mockOrders = this.getMockOrders();\n\t\t\t\t\n\t\t\t\t// 根据标签筛选模拟数据\n\t\t\t\tlet filteredOrders = mockOrders;\n\t\t\t\tif (this.currentTab !== 'all') {\n\t\t\t\t\tconst statusMap = {\n\t\t\t\t\t\t'pending': [1, 2, 3], // 进行中\n\t\t\t\t\t\t'completed': [4], // 已完成\n\t\t\t\t\t\t'cancelled': [5] // 已取消\n\t\t\t\t\t};\n\t\t\t\t\tconst targetStatuses = statusMap[this.currentTab] || [];\n\t\t\t\t\tfilteredOrders = mockOrders.filter(order => targetStatuses.includes(order.status));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 分页处理\n\t\t\t\tconst startIndex = (this.page - 1) * this.pageSize;\n\t\t\t\tconst endIndex = startIndex + this.pageSize;\n\t\t\t\tconst pageOrders = filteredOrders.slice(startIndex, endIndex);\n\t\t\t\t\n\t\t\t\tif (pageOrders.length > 0) {\n\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\tthis.orderList = pageOrders;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.orderList = this.orderList.concat(pageOrders);\n\t\t\t\t\t}\n\t\t\t\t\tthis.hasMore = endIndex < filteredOrders.length;\n\t\t\t\t} else {\n\t\t\t\t\tif (this.page === 1) {\n\t\t\t\t\t\tthis.orderList = [];\n\t\t\t\t\t}\n\t\t\t\t\tthis.hasMore = false;\n\t\t\t\t}\n\t\t\t} finally {\n\t\t\t\tthis.loading = false;\n\t\t\t\tthis.isInitialized = true; // 标记已初始化\n\t\t\t\t\n\t\t\t\t// 每次加载完成后，通知首页更新统计（仅在首次加载时）\n\t\t\t\tif (this.page === 1) {\n\t\t\t\t\tuni.$emit('orderStatusChanged');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 加载本地订单（离线模式）\n\t\t */\n\t\tloadLocalOrders() {\n\t\t\tconst localOrders = offline.recentOrders.getAll();\n\t\t\tif (localOrders.length > 0) {\n\t\t\t\tthis.orderList = localOrders.slice(0, this.pageSize);\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 获取模拟订单数据（用于开发测试）\n\t\t */\n\t\tgetMockOrders() {\n\t\t\tconst now = Date.now();\n\t\t\tconst oneDay = 24 * 60 * 60 * 1000;\n\t\t\tconst oneWeek = 7 * oneDay;\n\t\t\t\n\t\t\treturn [\n\t\t\t\t// 已完成订单\n\t\t\t\t{\n\t\t\t\t\tid: 1,\n\t\t\t\t\torder_no: 'ORD' + String(now).slice(-10),\n\t\t\t\t\tstatus: 4,\n\t\t\t\t\tdemand_title: '家庭电路改造',\n\t\t\t\t\tmaster_name: '张师傅',\n\t\t\t\t\ttotal_price: 3500.00,\n\t\t\t\t\tcreated_at: now - oneWeek\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 2,\n\t\t\t\t\torder_no: 'ORD' + String(now - 1000).slice(-10),\n\t\t\t\t\tstatus: 4,\n\t\t\t\t\tdemand_title: '老旧线路维修',\n\t\t\t\t\tmaster_name: '李师傅',\n\t\t\t\t\ttotal_price: 1200.00,\n\t\t\t\t\tcreated_at: now - oneWeek - oneDay\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 3,\n\t\t\t\t\torder_no: 'ORD' + String(now - 2000).slice(-10),\n\t\t\t\t\tstatus: 4,\n\t\t\t\t\tdemand_title: '智能家居电路安装',\n\t\t\t\t\tmaster_name: '王师傅',\n\t\t\t\t\ttotal_price: 2800.00,\n\t\t\t\t\tcreated_at: now - oneWeek - 2 * oneDay\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 4,\n\t\t\t\t\torder_no: 'ORD' + String(now - 3000).slice(-10),\n\t\t\t\t\tstatus: 4,\n\t\t\t\t\tdemand_title: '配电箱升级改造',\n\t\t\t\t\tmaster_name: '刘师傅',\n\t\t\t\t\ttotal_price: 4500.00,\n\t\t\t\t\tcreated_at: now - 2 * oneWeek\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 5,\n\t\t\t\t\torder_no: 'ORD' + String(now - 4000).slice(-10),\n\t\t\t\t\tstatus: 4,\n\t\t\t\t\tdemand_title: '厨房电路增容',\n\t\t\t\t\tmaster_name: '陈师傅',\n\t\t\t\t\ttotal_price: 2200.00,\n\t\t\t\t\tcreated_at: now - 2 * oneWeek - oneDay\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 6,\n\t\t\t\t\torder_no: 'ORD' + String(now - 5000).slice(-10),\n\t\t\t\t\tstatus: 4,\n\t\t\t\t\tdemand_title: '卫生间防水电路改造',\n\t\t\t\t\tmaster_name: '赵师傅',\n\t\t\t\t\ttotal_price: 1800.00,\n\t\t\t\t\tcreated_at: now - 3 * oneWeek\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 7,\n\t\t\t\t\torder_no: 'ORD' + String(now - 6000).slice(-10),\n\t\t\t\t\tstatus: 4,\n\t\t\t\t\tdemand_title: '客厅照明电路改造',\n\t\t\t\t\tmaster_name: '周师傅',\n\t\t\t\t\ttotal_price: 1500.00,\n\t\t\t\t\tcreated_at: now - 3 * oneWeek - oneDay\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 8,\n\t\t\t\t\torder_no: 'ORD' + String(now - 7000).slice(-10),\n\t\t\t\t\tstatus: 4,\n\t\t\t\t\tdemand_title: '阳台电路安装',\n\t\t\t\t\tmaster_name: '吴师傅',\n\t\t\t\t\ttotal_price: 900.00,\n\t\t\t\t\tcreated_at: now - 4 * oneWeek\n\t\t\t\t},\n\t\t\t\t// 进行中订单\n\t\t\t\t{\n\t\t\t\t\tid: 9,\n\t\t\t\t\torder_no: 'ORD' + String(now - 100).slice(-10),\n\t\t\t\t\tstatus: 1,\n\t\t\t\t\tdemand_title: '卧室电路改造',\n\t\t\t\t\tmaster_name: '郑师傅',\n\t\t\t\t\ttotal_price: 2000.00,\n\t\t\t\t\tcreated_at: now - 2 * oneDay\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 10,\n\t\t\t\t\torder_no: 'ORD' + String(now - 200).slice(-10),\n\t\t\t\t\tstatus: 2,\n\t\t\t\t\tdemand_title: '书房电路安装',\n\t\t\t\t\tmaster_name: '孙师傅',\n\t\t\t\t\ttotal_price: 1600.00,\n\t\t\t\t\tcreated_at: now - oneDay\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: 11,\n\t\t\t\t\torder_no: 'ORD' + String(now - 300).slice(-10),\n\t\t\t\t\tstatus: 3,\n\t\t\t\t\tdemand_title: '车库电路改造',\n\t\t\t\t\tmaster_name: '钱师傅',\n\t\t\t\t\ttotal_price: 3000.00,\n\t\t\t\t\tcreated_at: now - 3 * oneDay\n\t\t\t\t},\n\t\t\t\t// 已取消订单\n\t\t\t\t{\n\t\t\t\t\tid: 12,\n\t\t\t\t\torder_no: 'ORD' + String(now - 8000).slice(-10),\n\t\t\t\t\tstatus: 5,\n\t\t\t\t\tdemand_title: '阳台电路安装（已取消）',\n\t\t\t\t\tmaster_name: '冯师傅',\n\t\t\t\t\ttotal_price: 1100.00,\n\t\t\t\t\tcreated_at: now - 5 * oneWeek\n\t\t\t\t}\n\t\t\t];\n\t\t},\n\t\t\n\t\t/**\n\t\t * 加载更多\n\t\t */\n\t\tloadMore() {\n\t\t\tif (this.hasMore && !this.loading) {\n\t\t\t\tthis.page++;\n\t\t\t\tthis.loadOrders();\n\t\t\t}\n\t\t},\n\t\t\n\t\t/**\n\t\t * 获取状态文本\n\t\t */\n\t\tgetStatusText(status) {\n\t\t\tconst statusMap = {\n\t\t\t\t1: '待支付',\n\t\t\t\t2: '已支付',\n\t\t\t\t3: '施工中',\n\t\t\t\t4: '已完成',\n\t\t\t\t5: '已取消'\n\t\t\t};\n\t\t\treturn statusMap[status] || '未知';\n\t\t},\n\t\t\n\t\t/**\n\t\t * 格式化时间\n\t\t */\n\t\tformatTime(timestamp) {\n\t\t\tconst date = new Date(timestamp);\n\t\t\tconst year = date.getFullYear();\n\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0');\n\t\t\tconst day = String(date.getDate()).padStart(2, '0');\n\t\t\treturn `${year}-${month}-${day}`;\n\t\t},\n\t\t\n\t\t/**\n\t\t * 查看订单详情\n\t\t */\n\t\tviewOrderDetail(order) {\n\t\t\tuni.navigateTo({\n\t\t\t\turl: `/pages/user/order/detail?order_id=${order.id}`\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * 取消订单\n\t\t */\n\t\tasync cancelOrder(order) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认取消',\n\t\t\t\tcontent: '确定要取消此订单吗？',\n\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait request.post('/api/order/cancel', {\n\t\t\t\t\t\t\t\torder_id: order.id\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '订单已取消',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t// 刷新列表\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.orderList = [];\n\t\t\t\tthis.loadOrders();\n\t\t\t\t\n\t\t\t\t// 通知首页更新统计\n\t\t\t\tuni.$emit('orderStatusChanged');\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error('取消订单失败', error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t\n\t\t/**\n\t\t * 确认验收\n\t\t */\n\t\tasync confirmOrder(order) {\n\t\t\tuni.showModal({\n\t\t\t\ttitle: '确认验收',\n\t\t\t\tcontent: '确认工程已验收完成？',\n\t\t\t\tsuccess: async (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait request.post('/api/order/confirm', {\n\t\t\t\t\t\t\t\torder_id: order.id\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: '验收成功',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\n\t\t\t\t// 刷新列表\n\t\t\t\tthis.page = 1;\n\t\t\t\tthis.orderList = [];\n\t\t\t\tthis.loadOrders();\n\t\t\t\t\n\t\t\t\t// 通知首页更新统计\n\t\t\t\tuni.$emit('orderStatusChanged');\n\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\tconsole.error('确认验收失败', error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n};\n</script>\n\n<style scoped>\n.container {\n\tbackground-color: #f5f5f5;\n\tmin-height: 100vh;\n\tpadding-bottom: 200rpx;\n}\n\n.tab-bar {\n\tdisplay: flex;\n\tbackground-color: #fff;\n\tborder-bottom: 2rpx solid #e0e0e0;\n}\n\n.tab-item {\n\tflex: 1;\n\ttext-align: center;\n\tpadding: 30rpx 0;\n\tfont-size: 28rpx;\n\tcolor: #666;\n\tborder-bottom: 4rpx solid transparent;\n}\n\n.tab-item.active {\n\tcolor: #2F85FC;\n\tborder-bottom-color: #2F85FC;\n}\n\n.order-list {\n\tpadding: 20rpx;\n}\n\n.order-item {\n\tbackground-color: #fff;\n\tborder-radius: 12rpx;\n\tpadding: 30rpx;\n\tmargin-bottom: 20rpx;\n}\n\n.order-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 20rpx;\n}\n\n.order-id {\n\tfont-size: 24rpx;\n\tcolor: #999;\n}\n\n.status-badge {\n\tpadding: 8rpx 16rpx;\n\tborder-radius: 8rpx;\n\tfont-size: 24rpx;\n}\n\n.status-1 {\n\tbackground-color: #fff3cd;\n\tcolor: #856404;\n}\n\n.status-2 {\n\tbackground-color: #d1ecf1;\n\tcolor: #0c5460;\n}\n\n.status-3 {\n\tbackground-color: #d4edda;\n\tcolor: #155724;\n}\n\n.status-4 {\n\tbackground-color: #d1ecf1;\n\tcolor: #0c5460;\n}\n\n.status-5 {\n\tbackground-color: #f8d7da;\n\tcolor: #721c24;\n}\n\n.order-info {\n\tmargin-bottom: 20rpx;\n}\n\n.demand-title {\n\tfont-size: 32rpx;\n\tfont-weight: bold;\n\tcolor: #333;\n\tdisplay: block;\n\tmargin-bottom: 10rpx;\n}\n\n.master-name, .order-price {\n\tfont-size: 28rpx;\n\tcolor: #666;\n\tdisplay: block;\n\tmargin-bottom: 5rpx;\n}\n\n.order-footer {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding-top: 20rpx;\n\tborder-top: 2rpx solid #f0f0f0;\n}\n\n.order-time {\n\tfont-size: 24rpx;\n\tcolor: #999;\n}\n\n.order-actions {\n\tdisplay: flex;\n\tgap: 10rpx;\n}\n\n.btn-small {\n\tpadding: 10rpx 20rpx;\n\tfont-size: 24rpx;\n\tborder-radius: 6rpx;\n\tborder: 2rpx solid #e0e0e0;\n\tbackground-color: #fff;\n\tcolor: #666;\n}\n\n.btn-small.btn-primary {\n\tbackground-color: #2F85FC;\n\tcolor: #fff;\n\tborder-color: #2F85FC;\n}\n\n.load-more, .no-more, .empty {\n\ttext-align: center;\n\tpadding: 40rpx;\n\tfont-size: 28rpx;\n\tcolor: #999;\n}\n</style>\n\n\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/xydianan/xydianan/pages/user/order/list.vue'\nwx.createPage(MiniProgramPage)"],"names":["userStore","uni","request","offline"],"mappings":"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"}