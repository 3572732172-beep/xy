<view class="{{['container', 'data-v-047632cd', X && 'large-font']}}" bindtap="{{Y}}" bindtap="{{Z}}"><view class="page-header-row data-v-047632cd"><text class="page-title data-v-047632cd">发布需求</text></view><view class="form-intro data-v-047632cd"><text class="intro-title data-v-047632cd">发布用电需求</text><text class="intro-desc data-v-047632cd">请详细填写您的需求信息，我们将为您匹配最合适的专业师傅</text></view><view class="form-section data-v-047632cd"><view class="section-title data-v-047632cd"><text class="section-label data-v-047632cd">需求类型</text><text class="section-desc data-v-047632cd">请选择您的需求类型</text></view><view class="select-wrapper data-v-047632cd" catchtap="{{d}}" catchtap="{{e}}"><view class="select-display data-v-047632cd"><text wx:if="{{a}}" class="select-text data-v-047632cd">{{b}}</text><text wx:else class="select-placeholder data-v-047632cd">请选择需求类型</text></view><view class="{{['select-arrow', 'data-v-047632cd', c && 'open']}}"><text class="arrow-icon data-v-047632cd">▼</text></view></view><view wx:if="{{f}}" class="select-dropdown data-v-047632cd" catchtap="{{h}}" catchtap="{{i}}"><view wx:for="{{g}}" wx:for-item="scene" wx:key="d" class="{{['select-option', 'data-v-047632cd', scene.e && 'selected']}}" catchtap="{{scene.f}}" catchtap="{{scene.g}}"><view class="option-icon data-v-047632cd">{{scene.a}}</view><text class="option-label data-v-047632cd">{{scene.b}}</text><view wx:if="{{scene.c}}" class="option-check data-v-047632cd"><text class="check-icon data-v-047632cd">✓</text></view></view></view></view><view class="form-section data-v-047632cd"><view class="section-title data-v-047632cd"><text class="section-label data-v-047632cd">需求标题</text><text class="section-desc data-v-047632cd">简要描述您的需求</text></view><view class="input-wrapper data-v-047632cd"><input class="input data-v-047632cd" placeholder="{{j}}" style="{{'font-size:' + k}}" value="{{l}}" bindinput="{{m}}"/><view bindtap="{{o}}" bindtap="{{p}}" class="{{['voice-btn', 'data-v-047632cd', q && 'recording']}}"><text class="voice-icon data-v-047632cd">{{n}}</text></view></view></view><view class="form-section data-v-047632cd"><view class="section-title data-v-047632cd"><text class="section-label data-v-047632cd">详细描述</text><text class="section-desc data-v-047632cd">请详细描述现场情况、施工范围及期望完成时间</text></view><view class="textarea-wrapper data-v-047632cd"><block wx:if="{{r0}}"><textarea class="textarea data-v-047632cd" placeholder="{{r}}" style="{{'font-size:' + s + ';' + ('line-height:' + '2.0')}}" auto-height maxlength="300" value="{{t}}" bindinput="{{v}}"/></block><view bindtap="{{x}}" bindtap="{{y}}" class="{{['voice-btn', 'data-v-047632cd', z && 'recording']}}"><text class="voice-icon data-v-047632cd">{{w}}</text></view></view></view><view class="form-section data-v-047632cd"><view class="section-title data-v-047632cd"><text class="section-label data-v-047632cd">功率需求</text><text class="section-desc data-v-047632cd">预估功率（可选，如不确定可留空）</text></view><view class="power-input-wrapper data-v-047632cd"><input class="input power-input data-v-047632cd" type="digit" placeholder="例如 20（可选）" style="{{'font-size:' + A}}" value="{{B}}" bindinput="{{C}}"/><text class="unit data-v-047632cd">kW</text></view></view><view class="form-section data-v-047632cd"><view class="section-title data-v-047632cd"><text class="section-label data-v-047632cd">施工地址</text><text class="section-desc data-v-047632cd">请选择或输入详细地址</text></view><view class="address-wrapper data-v-047632cd" bindtap="{{F}}"><text wx:if="{{D}}" class="address-text data-v-047632cd">{{E}}</text><text wx:else class="address-placeholder data-v-047632cd">请选择或定位地址</text><text class="address-icon data-v-047632cd">📍</text></view><view wx:if="{{G}}" class="location-info data-v-047632cd"><text class="data-v-047632cd">定位：{{H}}, {{I}}</text></view></view><view class="form-section data-v-047632cd"><view class="section-title data-v-047632cd"><text class="section-label data-v-047632cd">现场照片</text><text class="section-desc data-v-047632cd">上传现场照片，帮助师傅更好地了解情况（可选）</text></view><view class="photo-upload data-v-047632cd"><view wx:for="{{J}}" wx:for-item="photo" wx:key="f" class="photo-item data-v-047632cd"><image src="{{photo.a}}" class="photo-image data-v-047632cd" mode="aspectFill"/><view class="photo-delete data-v-047632cd" bindtap="{{photo.b}}">×</view><view wx:if="{{photo.c}}" class="photo-ai-btn data-v-047632cd" bindtap="{{photo.d}}"><text class="ai-text data-v-047632cd">智能分析</text></view><view wx:if="{{photo.e}}" class="photo-ai-loading data-v-047632cd"><text class="ai-loading-text data-v-047632cd">分析中...</text></view></view><view wx:if="{{K}}" class="photo-add data-v-047632cd" bindtap="{{L}}"><text class="photo-add-icon data-v-047632cd">+</text><text class="photo-add-text data-v-047632cd">添加照片</text></view></view><view wx:if="{{M}}" class="ai-result-section data-v-047632cd"><view class="ai-result-title data-v-047632cd"><text class="ai-title-text data-v-047632cd">分析结果</text></view><view wx:for="{{N}}" wx:for-item="result" wx:key="e" class="ai-result-item data-v-047632cd"><view class="ai-result-header data-v-047632cd"><image src="{{result.a}}" class="ai-result-photo data-v-047632cd" mode="aspectFill"/><view class="ai-result-info data-v-047632cd"><text class="ai-result-label data-v-047632cd">分析结果</text><text class="ai-result-time data-v-047632cd">{{result.b}}</text></view></view><view class="ai-result-content data-v-047632cd"><view class="ai-result-desc data-v-047632cd"><text class="ai-desc-label data-v-047632cd">问题识别：</text><text class="ai-desc-text data-v-047632cd">{{result.c}}</text></view><view class="ai-result-solution data-v-047632cd"><text class="ai-solution-label data-v-047632cd">改造方案：</text><text class="ai-solution-text data-v-047632cd">{{result.d}}</text></view></view></view></view></view><view class="form-actions data-v-047632cd"><button class="btn btn-secondary data-v-047632cd" bindtap="{{O}}">保存草稿</button><button class="btn btn-primary data-v-047632cd" bindtap="{{Q}}" loading="{{R}}">{{P}}</button></view><service-float class="data-v-047632cd" u-i="047632cd-0" bind:__l="__l"/><view wx:if="{{S}}" class="language-picker-mask data-v-047632cd" bindtap="{{W}}"><view class="language-picker data-v-047632cd" catchtap="{{V}}"><view class="picker-header data-v-047632cd"><text class="picker-title data-v-047632cd">选择语言</text><text class="picker-close data-v-047632cd" bindtap="{{T}}">×</text></view><scroll-view class="picker-content data-v-047632cd" scroll-y><view wx:for="{{U}}" wx:for-item="lang" wx:key="c" class="{{['picker-item', 'data-v-047632cd', lang.d && 'active']}}" bindtap="{{lang.e}}"><text class="picker-item-text data-v-047632cd">{{lang.a}}</text><text wx:if="{{lang.b}}" class="picker-item-check data-v-047632cd">✓</text></view></scroll-view></view></view></view>