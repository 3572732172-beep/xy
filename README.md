
## 特点
* 兼容多个平台
* 自定义组件实现顶部选项卡切换
* App 平台使用 nvue 进一步优化体验

### 平台支持
* app-vue
* app-nvue
* H5
* 微信小程序

## 注意事项
* 非 App-nvue 平台暂不支持下拉刷新


# API 地址配置说明

## 问题
如果遇到 `ERR_NAME_NOT_RESOLVED` 或 `request:fail` 错误，说明API地址配置不正确。

## 解决方案

### 1. 微信小程序开发环境

微信小程序中 `localhost` 可能无法访问，需要使用本机IP地址。

#### 方法一：修改 `utils/request.js`（推荐）

找到 `utils/request.js` 文件，修改以下代码：

```javascript
// #ifdef MP-WEIXIN
// 将 localhost 改为你的本机IP地址
BASE_URL = ENV.UNI_APP_BASE_URL || 'http://192.168.1.100:3000';
// #endif
```

**如何获取本机IP地址：**
- Windows: 打开命令提示符，输入 `ipconfig`，查找 "IPv4 地址"
- Mac/Linux: 打开终端，输入 `ifconfig`，查找 "inet" 地址

#### 方法二：通过环境变量配置

创建 `.env.development` 文件（在项目根目录）：

```env
UNI_APP_BASE_URL=http://192.168.1.100:3000
```

### 2. 确保后端服务运行

在 `server` 目录下启动后端服务：

```bash
cd server
npm run dev
```

服务应该运行在 `http://localhost:3000`

### 3. 微信开发者工具设置

1. 打开微信开发者工具
2. 点击右上角"详情"
3. 在"本地设置"中：
   - ✅ 勾选"不校验合法域名、web-view（业务域名）、TLS 版本以及 HTTPS 证书"
   - ✅ 勾选"不校验安全域名、TLS版本以及HTTPS证书"

### 4. 检查网络连接

确保：
- 手机和电脑在同一局域网（如果使用真机调试）
- 防火墙允许 3000 端口访问
- 后端服务正常运行

## 常见问题

### Q: 为什么使用 localhost 无法访问？
A: 微信小程序的安全机制不允许访问 localhost，需要使用本机IP地址。

### Q: 如何找到本机IP地址？
A: 
- Windows: `ipconfig` 命令
- Mac/Linux: `ifconfig` 命令
- 或者查看网络设置中的IP地址

### Q: 修改后仍然无法访问？
A: 
1. 检查后端服务是否运行在 3000 端口
2. 检查防火墙设置
3. 尝试使用 `127.0.0.1` 代替 `localhost`
4. 确保手机和电脑在同一WiFi网络（真机调试时）



# 语音输入功能配置说明

## 功能说明

发布需求页面已支持语音输入功能，支持多种方言识别。

## 配置步骤

### 1. 获取百度语音服务参数

1. 访问 [百度智能云控制台](https://console.bce.baidu.com/)
2. 创建或登录账号
3. 进入「语音技术」->「语音识别」
4. 创建应用，获取以下参数：
   - **APP ID**：应用ID
   - **API Key**：API密钥
   - **Secret Key**：密钥

### 2. 配置参数

在小程序中配置百度语音服务参数有两种方式：

#### 方式一：通过代码配置（开发环境）

在 `utils/baidu-speech.js` 文件中直接配置：

```javascript
const BAIDU_SPEECH_CONFIG = {
	APP_ID: '您的APP_ID',
	API_KEY: '您的API_KEY',
	SECRET_KEY: '您的SECRET_KEY'
};
```

#### 方式二：通过设置页面配置（推荐）

1. 进入小程序「设置」页面
2. 找到「语音服务配置」选项
3. 输入您的百度语音服务参数
4. 保存配置

配置会自动保存到本地存储中。

## 使用方法

1. 在发布需求页面，点击标题或描述输入框旁边的 🎤 图标
2. 选择您要使用的方言（普通话、四川话、粤语等）
3. 开始说话，点击停止按钮结束录音
4. 系统会自动识别语音并填入输入框

## 支持的方言

- 普通话
- 四川话
- 粤语
- 上海话
- 闽南语
- 东北话
- 河南话
- 山东话
- 陕西话
- 湖北话
- 湖南话
- 江西话
- 安徽话

## 注意事项

1. 录音最长支持60秒
2. 建议在安静环境下使用，效果更佳
3. 识别准确度与网络环境有关
4. 首次使用需要获取 Access Token，可能需要几秒钟

## 故障排查

### 问题：提示"请先配置百度语音服务参数"

**解决方案**：请按照上述步骤配置百度语音服务参数。

### 问题：识别失败

**可能原因**：
1. 网络连接问题
2. 录音时间过短
3. 环境噪音过大
4. API 配置错误

**解决方案**：
1. 检查网络连接
2. 确保录音时间至少2秒
3. 在安静环境下重试
4. 检查 API 配置是否正确

### 问题：录音无法开始

**可能原因**：
1. 未授权麦克风权限
2. 设备不支持录音

**解决方案**：
1. 在小程序设置中授权麦克风权限
2. 检查设备是否支持录音功能

